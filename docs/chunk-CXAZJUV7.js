import{c as b}from"./chunk-H42KX6P2.js";import{a as q,b as k}from"./chunk-Z3TMEOKB.js";import{a as C,b as c,c as y,d as S,e as N,f as x,g as E,i as T,j as B,n as I,o as A,p as L}from"./chunk-KOANHZKJ.js";import{a as w}from"./chunk-HOA3HOAY.js";import{Ka as m,La as i,Ma as n,Na as d,Oa as g,Pa as s,Ta as p,Ua as a,ma as l,pb as h,qa as f,sb as _,ua as v,ya as u}from"./chunk-SXWNA6SJ.js";function F(t,o){t&1&&(i(0,"div"),a(1,"Required."),n())}function R(t,o){t&1&&(i(0,"div"),a(1,"Min 3 chars."),n())}function V(t,o){t&1&&(i(0,"div"),a(1,"Max 30 chars."),n())}function D(t,o){if(t&1&&(i(0,"div",17),u(1,F,2,0,"div",18)(2,R,2,0,"div",18)(3,V,2,0,"div",18),n()),t&2){let e=s();l(),m("ngIf",e.f.accountName.errors==null?null:e.f.accountName.errors.required),l(),m("ngIf",e.f.accountName.errors==null?null:e.f.accountName.errors.minlength),l(),m("ngIf",e.f.accountName.errors==null?null:e.f.accountName.errors.maxlength)}}function G(t,o){t&1&&(i(0,"div"),a(1,"Required."),n())}function j(t,o){t&1&&(i(0,"div"),a(1,"Cannot be negative."),n())}function P(t,o){if(t&1&&(i(0,"div",17),u(1,G,2,0,"div",18)(2,j,2,0,"div",18),n()),t&2){let e=s();l(),m("ngIf",e.f.initialBalance.errors==null?null:e.f.initialBalance.errors.required),l(),m("ngIf",e.f.initialBalance.errors==null?null:e.f.initialBalance.errors.min)}}function U(t,o){t&1&&(i(0,"div",19),a(1," Notice: Savings accounts may have withdrawal limits. "),n())}var M=class t{constructor(o,e,r){this.fb=o;this.router=e;this.accounts=r;this.form=this.fb.group({accountName:["",[c.required,c.minLength(3),c.maxLength(30)]],initialBalance:[0,[c.required,c.min(0)]],accountType:["Chequing",[c.required]]})}submitted=!1;form;get f(){return this.form.controls}showError(o){let e=this.f[o];return e.invalid&&(e.touched||e.dirty||this.submitted)}submit(){if(this.submitted=!0,this.form.invalid){this.form.markAllAsTouched();return}let{accountName:o,accountType:e,initialBalance:r}=this.form.value;this.accounts.create(o,e,Number(r)),this.router.navigateByUrl("/dashboard")}static \u0275fac=function(e){return new(e||t)(f(A),f(b),f(w))};static \u0275cmp=v({type:t,selectors:[["app-login"]],decls:28,vars:10,consts:[[1,"container","mt-5"],[1,"mb-4"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","accountName",1,"form-label"],["id","accountName","type","text","formControlName","accountName",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","initialBalance",1,"form-label"],["id","initialBalance","type","number","formControlName","initialBalance","min","0",1,"form-control"],[1,"form-label"],[1,"form-check"],["type","radio","id","chequing","value","Chequing","formControlName","accountType",1,"form-check-input"],["for","chequing",1,"form-check-label"],["type","radio","id","savings","value","Savings","formControlName","accountType",1,"form-check-input"],["for","savings",1,"form-check-label"],["type","submit",3,"variant","disabled"],["class","form-text mt-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-text","mt-2"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"h1",1),a(2,"Create Account"),n(),i(3,"form",2),g("ngSubmit",function(){return r.submit()}),i(4,"div",3)(5,"label",4),a(6,"Account name"),n(),d(7,"input",5),u(8,D,4,3,"div",6),n(),i(9,"div",3)(10,"label",7),a(11,"Initial balance"),n(),d(12,"input",8),u(13,P,3,2,"div",6),n(),i(14,"div",3)(15,"label",9),a(16,"Account type"),n(),i(17,"div",10),d(18,"input",11),i(19,"label",12),a(20,"Chequing"),n()(),i(21,"div",10),d(22,"input",13),i(23,"label",14),a(24,"Savings"),n()()(),i(25,"app-bank-button",15),a(26," Create Account "),n(),u(27,U,2,0,"div",16),n()()),e&2&&(l(3),m("formGroup",r.form),l(4),p("is-invalid",r.showError("accountName")),l(),m("ngIf",r.showError("accountName")),l(4),p("is-invalid",r.showError("initialBalance")),l(),m("ngIf",r.showError("initialBalance")),l(12),m("variant",r.f.accountType.value??void 0)("disabled",r.form.invalid&&r.submitted),l(2),m("ngIf",r.f.accountType.value==="Savings"))},dependencies:[L,N,C,x,E,y,S,I,T,B,_,h,k,q],encapsulation:2})};export{M as LoginComponent};
